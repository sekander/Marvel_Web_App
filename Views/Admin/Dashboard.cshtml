@{
    ViewData["Title"] = "Dashboard";
    var role = User.IsInRole("Admin") ? "Admin" :
               User.IsInRole("Manager") ? "Manager" :
               "User";
}


<link rel="stylesheet" href="~/css/site.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<nav class="navbar">
    <div class="logo-container">
        <img src="~/logo.svg" alt="Logo" class="logo" />
    </div>

    <div class="navbar-links">
        <div class="navbar-link active">HOME</div>
        <div class="navbar-link">COMICS</div>
    </div>
    <div class="container">
        @if (role == "Admin")
        {
            <p>ADMIN</p>

        }
        else if (role == "Manager")
        {
            <p>MANAGER</p>
        }
        <form method="post" action="/Admin/Logout" class="mt-3">
       
            @Html.AntiForgeryToken()  <!-- This token is required for security -->
            <button type="submit" class="btn btn-danger">Logout
            <div class="arrow-icon">
                <i class="fa-solid fa-arrow-right-to-bracket"></i>
            </div>
            </button>
            
        </div>
        </form>
    </div>
        
   
</nav>
<section class="wrap center">
    
    <div>

    </div>
<h2>@ViewData["Title"]</h2>
@if (role == "Admin")
    {   
        
        <div class="row">   
        <div class="col-left">
        <img src="~/logo.svg" alt="Alternate Text" />
                
         
                    <div class="mask-group-wrapper">
                        <img class="mask-group-icon" alt="" src="Mask group.png">
                    </div>
                    <div class="title">MANAGER</div>
                    <div class="task">SETTING</div>
                
        </div>
     <div class="col-right">
       
    <p>Welcome, Admin! You have full access to the application.</p>
                <button type="submit" class="btn btn-info">
                    Add New Book  <div class="arrow-icon">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                    </div>
                </button>


                <div class="text-row">
                    <a href="#" class="link"><div class="text">0</div></a>
                    <a href="#" class="link"><div class="text">1</div></a>
                    <a href="#" class="link"><div class="text">2</div></a>
                    <a href="#" class="link"><div class="text">3</div></a>
                    <a href="#" class="link"><div class="text">4</div></a>
                    <a href="#" class="link"><div class="text">5</div></a>
                    <a href="#" class="link"><div class="text">6</div></a>
                    <a href="#" class="link"><div class="text">7</div></a>
                    <a href="#" class="link"><div class="text">8</div></a>
                    <a href="#" class="link"><div class="text">9</div></a>
                    <a href="#" class="link"><div class="text">A</div></a>
                    <a href="#" class="link"><div class="text">B</div></a>
                    <a href="#" class="link"><div class="text">C</div></a>
                    <a href="#" class="link"><div class="text">D</div></a>
                    <a href="#" class="link"><div class="text">E</div></a>
                    <a href="#" class="link"><div class="text">F</div></a>
                    <a href="#" class="link"><div class="text">G</div></a>
                    <a href="#" class="link"><div class="text">H</div></a>
                    <a href="#" class="link"><div class="text">I</div></a>
                    <a href="#" class="link"><div class="text">J</div></a>
                    <a href="#" class="link"><div class="text">L</div></a>
                    <a href="#" class="link"><div class="text">M</div></a>
                    <a href="#" class="link"><div class="text">O</div></a>
                    <a href="#" class="link"><div class="text">N</div></a>
                    <a href="#" class="link"><div class="text">P</div></a>
                    <a href="#" class="link"><div class="text">Q</div></a>
                    <a href="#" class="link"><div class="text">R</div></a>
                    <a href="#" class="link"><div class="text">S</div></a>
                    <a href="#" class="link"><div class="text">T</div></a>
                    <a href="#" class="link"><div class="text">U</div></a>
                    <a href="#" class="link"><div class="text">V</div></a>
                    <a href="#" class="link"><div class="text">W</div></a>
                    <a href="#" class="link"><div class="text">X</div></a>
                    <a href="#" class="link"><div class="text">Y</div></a>
                    <a href="#" class="link"><div class="text">Z</div></a>
                </div><table class="minimalistBlack">
                    <thead>
                        <tr>
                            <th>BOOK Name</th>
                            <th>ISBN</th>
                            <th>Stock</th>
                            <th>Publication date</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Marvel Universe Ultimate Spider-Man: Spider-Verse (2018) #5</td>
                            <td>9780307976598</td>
                            <td>999</td>
                            <td>Feb. 26 2025</td>
                            <td>
                                <i class="fa fa-external-link" aria-hidden="true"></i> 
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </td>
                        </tr>
                        <tr>
                            <td>Marvel Universe Ultimate Spider-Man: Spider-Verse (2018) #5</td>
                            <td>9780307976598</td>
                            <td>999</td>
                            <td>Feb. 26 2025</td>
                            <td>
                                <i class="fa fa-external-link" aria-hidden="true"></i>
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>
                <div class="text-row">
                    <a href="#" class="link"><div class="text">EMPOLYEES</div></a>
                    <a href="#" class="link"><div class="text">USERS</div></a>
                </div>

    



    @* <div style="width: 268px; height: 104px; text-align: center; color: black; font-size: 48px; font-family: Inter; font-weight: 700; line-height: 47.29px; word-wrap: break-word">Study<br/>Buddy</div>
    <div style="align-self: stretch; padding-left: 24px; padding-right: 24px; padding-top: 10px; padding-bottom: 10px; background: #007AFF; border-radius: 6px; flex-direction: column; justify-content: center; align-items: center; display: inline-flex">
  <div style="text-align: center; justify-content: center; display: flex; flex-direction: column; color: white; font-size: 15px; font-family: Roboto; font-weight: 700; line-height: 20px; letter-spacing: 0.30px; word-wrap: break-word">Sign in</div>
  <div style="width: 390px; height: 31px; text-align: center; color: #3D38F5; font-size: 20px; font-family: Inter; font-weight: 700; line-height: 24px; word-wrap: break-word">“Track, Plan and Succeed!”</div>
</div>
     *@
    <!-- Add admin-specific content here -->
    </div>
        </div>
    }
else if (role == "Manager")
{
    <p>Welcome, Manager! You have limited access compared to an Admin.</p>
    <!-- Add manager-specific content here -->
}
else
{
    <p>Welcome, User! This is your personal dashboard.</p>
    <!-- Add user-specific content here -->
}
<div id="comicsList"></div>

<script>

             document.getElementById('comicsList').innerHTML += "hi";



    fetch('/api/manager/comic/1000')  // ASP.NET Core routing URL
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }

            return response.json();  // Parse the response as JSON
        })
        .then(data => {
            console.log(data);

            console.log(data.comic.characterID)

    @* <img src=${data.comic.thumbnailURL}/> *@
            // Create an image element dynamically
            const comicImage = document.createElement('img');
            comicImage.src = data.comic.thumbnailURL + ".jpg"; // Set the source of the image
            comicImage.alt = `${data.comic.title} cover`; // Optional: set alt text for the image
            comicImage.width = 150; // Set image size, adjust as necessary

            comicsList.appendChild(comicImage);  // Adds the image to the DOM

            //const comics = data.comic || [];  // Use an empty array as a fallback if `results` is undefined
            // Loop through the data and append each comic to the #comicsList
            //comics.forEach(comic => {
            //    console.log(comic);
            //    document.getElementById('comicsList').innerHTML +=
            //        `<li>${comic.title} (Issue: ${comic.issueNumber}, $${comic.price})</li>`;
            //});
        })
        .catch(error => {
            console.error("Error retrieving comics: " + error);
        });



</script>




@* In Admin Dashboard View
<form method="post" action="/logout" class="mt-3">
    @Html.AntiForgeryToken()  <!-- This token is required for security -->
    <button type="submit" class="btn btn-danger">Logout</button>
</form> *@

@* <form asp-controller="Admin" asp-action="Logout" method="post" style="display:inline;">
        <button type="submit" class="btn btn-link">Logout</button>
    </form> *@

@* <form method="post" action="@Url.Action("Logout", "Admin")">
 <form method="get" action="@Url.Action("Logout", "Admin")"> *@
@* <button type="submit" class="btn btn-danger">Logout</button>
</form>  *@

<!-- Test Button Form (to check /Admin/Test route) -->
@* <form method="get" action="@Url.Action("Test", "Admin")">
    <button type="submit" class="btn btn-info">Test Route</button>
</form> *@
<!-- Test Button Form (to check /Admin/Test route) -->
@* <form method="get" action="@Url.Action("GetAllUsers", "Admin")"> *@
<form method="get" action="@Url.Action("Test", "Admin")">
    <button type="submit" class="btn btn-info">Test Route</button>
</form>
</section>
<footer class="footer">

    <div class="footer-container">

    <div class="footer-text">©2025 MARVEL</div>

    </div>
</footer>

<!-- Logout Button Form -->